# Интеграция с Telegram каналом @mondeydelnik

## Что нужно сделать для подключения

### 1. Создание Telegram Bot

1. Найдите [@BotFather](https://t.me/botfather) в Telegram
2. Отправьте команду `/newbot`
3. Введите имя бота (например: "Monday Magazine Bot")
4. Введите username бота (например: `monday_magazine_bot`)
5. Сохраните полученный **BOT TOKEN** - он выглядит как `1234567890:ABCDEF...`

### 2. Добавление бота в ваш канал

1. Перейдите в ваш канал @mondeydelnik
2. Откройте настройки канала → Администраторы
3. Добавьте созданного бота как администратора
4. Дайте боту права на чтение сообщений

### 3. Настройка переменных окружения

Создайте файл `.env.local` в корне проекта:

```env
REACT_APP_TELEGRAM_BOT_TOKEN=1234567890:ABCDEF...
```

**Важно:** Замените `1234567890:ABCDEF...` на ваш реальный токен от BotFather

### 4. Проверка работы

После настройки переменных окружения:

1. Перезапустите приложение: `npm run dev`
2. Сайт автоматически начнет получать посты из канала
3. Новые посты будут появляться каждые 60 секунд

## Как работает интеграция

### Автоматическое получение постов
- Сайт загружает последние 10 постов при запуске
- Каждую минуту проверяет наличие новых постов
- Новые посты отображаются в начале ленты

### Обработка контента
- **Заголовок:** первая строка поста или первые 8 слов
- **Содержимое:** остальной текст поста
- **Категория:** определяется по ключевым словам (ДИЗАЙН, АРТ, КУЛЬТУРА и т.д.)
- **Изображения:** если в посте есть фото, оно будет отображаться

### API методы
- `fetchTelegramPosts(limit, offset)` - получает посты из канала
- `getTelegramFileUrl(fileId)` - получает прямую ссылку на файл
- `setupTelegramWebhook()` - настраивает вебхук (для будущего использования)

## Ограничения и рекомендации

### Безопасность
- Никогда не публикуйте BOT TOKEN в открытом доступе
- Добавьте `.env.local` в `.gitignore`
- Для продакшена используйте переменные окружения сервера

### Производительность
- Сайт кэширует посты для быстрой загрузки
- Проверка новых постов происходит раз в минуту
- Большие изображения могут замедлять загрузку

### Контент
- Форматирование постов сохраняется
- Поддерживаются текст, фото и подписи
- Ссылки и другие медиа могут не отображаться корректно

## Troubleshooting

### Посты не загружаются
1. Проверьте правильность BOT TOKEN
2. Убедитесь, что бот добавлен в канал как администратор
3. Проверьте консоль браузера на наличие ошибок

### Ошибка 403 Forbidden
- У бота нет прав на чтение сообщений в канале
- Добавьте бота в администраторы канала

### Ошибка 404 Not Found  
- Неправильное имя канала в коде
- Убедитесь что канал публичный и доступен

## Дополнительные возможности

Для будущего улучшения можно добавить:
- Webhook для мгновенного обновления постов
- Обработка видео и документов
- Система комментариев
- Поиск по постам канала
