import{u as k,r as h,P as d,j as e}from"./index-CvWWv6_a.js";import{C as N}from"./constants-lyqNwJ2b.js";import{B as c}from"./Button-CMOn0aGG.js";import{R as l}from"./Reveal-Dkm5viY9.js";const S=({onNavigate:n,onSelectCourse:z,onStartLesson:b})=>{const{user:i,logout:u}=k(),[j,f]=h.useState(!1);if(h.useEffect(()=>{const t=setTimeout(()=>{f(!0)},200);return()=>clearTimeout(t)},[]),!i)return n(d.AUTH),null;const x=N.filter(t=>i.enrolledCourses.includes(t.id));return e.jsx("div",{className:"min-h-screen bg-zinc-50 dark:bg-black pt-32 pb-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-16",children:[e.jsxs(l,{children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-zinc-900 dark:text-white mb-2",children:"Личный кабинет"}),e.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400",children:["Добро пожаловать, ",i.name]})]}),e.jsx(l,{delay:100,children:e.jsx(c,{variant:"secondary",onClick:()=>{u(),n(d.HOME)},children:"Выйти"})})]}),x.length>0?e.jsxs("div",{className:"grid grid-cols-1 gap-12",children:[e.jsx(l,{width:"100%",children:e.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white mb-8",children:"Мое обучение"})}),x.map((t,g)=>{var m;const p=i.completedLessons.filter(a=>a.startsWith(t.id.substring(0,2))).length*15,o=Math.min(p,100);return e.jsx(l,{delay:g*100,width:"100%",children:e.jsx("div",{className:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-white/10 rounded-[2rem] p-8 md:p-12 shadow-xl shadow-zinc-200/50 dark:shadow-none",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsxs("div",{className:"w-full md:w-1/4",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full aspect-square object-cover rounded-2xl mb-4 grayscale hover:grayscale-0 transition-all duration-500"}),e.jsx("div",{className:`text-${t.accentColor}-600 dark:text-${t.accentColor}-400 font-bold uppercase tracking-widest text-xs text-center`,children:t.subtitle})]}),e.jsxs("div",{className:"w-full md:w-3/4",children:[e.jsx("h3",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-6",children:t.title}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-zinc-500 dark:text-zinc-400 mb-2",children:[e.jsx("span",{children:"Прогресс курса"}),e.jsxs("span",{children:[o,"%"]})]}),e.jsx("div",{className:"w-full h-3 bg-zinc-200 dark:bg-zinc-800 rounded-full overflow-hidden relative",children:e.jsx("div",{className:`h-full bg-${t.accentColor}-500 transition-all duration-[1500ms] ease-out relative`,style:{width:j?`${o}%`:"0%"},children:e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-zinc-900 dark:text-white mb-4",children:"Доступные модули:"}),(m=t.fullCurriculum)==null?void 0:m.map((a,v)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-zinc-500 uppercase font-bold tracking-wider",children:a.title}),a.lessons.map((s,w)=>{const r=i.completedLessons.includes(s.id);return e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-colors ${r?"bg-green-100 dark:bg-green-900/10 border-green-500/20":"bg-zinc-50 dark:bg-black border-zinc-200 dark:border-white/10 hover:border-zinc-400 dark:hover:border-white/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${r?"bg-green-500 text-white dark:text-black scale-110":"bg-zinc-200 dark:bg-zinc-800 text-zinc-500"}`,children:r?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):e.jsx("span",{className:"text-xs font-bold",children:w+1})}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${r?"text-green-700 dark:text-green-200":"text-zinc-900 dark:text-zinc-200"}`,children:s.title}),e.jsxs("div",{className:"text-xs text-zinc-500",children:[s.type==="lecture"?"Лекция":"Практика"," • ",s.duration]})]})]}),e.jsx(c,{size:"sm",variant:r?"secondary":"primary",onClick:()=>b(t,s),children:r?"Повторить":"Начать"})]},s.id)})]},v))]})]})]})})},t.id)})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl text-zinc-900 dark:text-white mb-4",children:"Вы пока не записаны ни на один курс"}),e.jsx(c,{onClick:()=>n(d.COURSES),children:"Перейти в каталог"})]})]})})};export{S as Dashboard};
